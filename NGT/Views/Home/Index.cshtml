@model NGT.Models.Logon

@{
    ViewBag.Title = "Home";
}
<div class="content contentView bodyimg d-flex justify-content-around align-items-center flex-wrap p-5">

    <div class="p-2">
        <img src="~/Content/images/NewGenTechDark.png" class="imgLogo" />

        <div class="pt-5 pb-5 txtBlack">
            <h5 class="mb-5 mt-5 text-center">
                Escolha uma das opções abaixo:</br>
                <span style="font-size:15px;">(Login não é necessário!)</span>
            </h5>
            <div class="row justify-content-around">

                <div class="col-md-6 col-sm-12 col-lg-6">
                    <div id="cardChamado" class="info-box shadow">
                        <span class="info-box-icon bg-warning">
                            <i class="fa-solid fa-plus"></i>
                        </span>
                        <div class="info-box-content">
                            <span class="info-box-number">Abrir chamado</span>
                            <span class="info-box-text">
                                <small>
                                    (Criar um novo chamado)
                                </small>
                            </span>
                        </div>

                    </div>
                </div>

                <div class="col-md-6 col-sm-12 col-lg-6">
                    <div id="cardConsuta" class="info-box shadow">
                        <span class="info-box-icon bg-warning">
                            <i class="fa-solid fa-magnifying-glass"></i>
                        </span>

                        <div class="info-box-content">

                            <span class="info-box-number">Consultar chamado</span>
                            <span class="info-box-text">
                                <small>
                                    (Consultar o status do seu chamado aberto)
                                </small>
                            </span>
                        </div>
                    </div>
                </div>

            </div>
        </div>

    </div>

    @using (Html.BeginForm("Acesso", "Home"))
    {
        @Html.AntiForgeryToken()

        <div class="card cardBg">

            @if (IsPost)
            {
                <div class="alert alert-default-danger m-0 pb-0">
                    <button type="button" class="close" data-dismiss="alert">&times;</button>
                    @Html.ValidationSummary(true, "", new { @class = "text-muted pl-2" })
                </div>
            }

            <h3 class="txtBlack pt-3 align-self-center">Área de Login</h3>
            <div class="card-body">
                <div class="form-group">
                    @Html.LabelFor(model => model.Email, "E-mail: ", htmlAttributes: new { @class = "control-label" })
                    @Html.EditorFor(model => model.Email, new { htmlAttributes = new { @class = "form-control", @placeholder = "E-mail..." } })
                    @Html.ValidationMessageFor(model => model.Email, "", new { @class = "text-danger text-sm" })
                </div>
                <div class="form-group">
                    @Html.LabelFor(model => model.Senha, "Senha: ", htmlAttributes: new { @class = "control-label " })
                    @Html.EditorFor(model => model.Senha, new { htmlAttributes = new { @class = "form-control", @placeholder = "Senha..." } })
                    @Html.ValidationMessageFor(model => model.Senha, "", new { @class = "text-danger text-sm" })
                </div>

                <div class="form-check">
                    @Html.CheckBox("Perm", false, htmlAttributes: new { @class = "form-check-input", @name = "Perm" })
                    <label class="form-check-label" for="Perm">Permanecer logado</label>
                </div>

            </div>

            <div class="d-flex justify-content-center p-2 mb-3">
                <button type="submit" class="btn btnlight pl-5 pr-5">Entrar</button>
            </div>
        </div>


    }

</div>

<div id="modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="NovaOcorrencia" aria-hidden="true" />
<div id="modalC" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="EditaMot" aria-hidden="true"></div>

@section CssPage{

}

@section ScriptPage{
    <script>
        $(function () {
            $('#cardChamado').click(function () {
                $("#modal").load("@Url.RouteUrl("Home.Ocorrencia")", function () {
                    $("#modal").modal();
                });
            });
        });
    </script>
    <script>
        $(function () {
            $('#cardConsuta').click(function () {
                $("#modal").load("/ocorrencias/consultachamado", function () {
                    $("#modal").modal();
                });
            });
        });
    </script>
    <script src="~/Content/Js/CheckPerm.js"></script>
    <script src="~/Content/Libs/jquery-validation/jquery.validate.js"></script>
    <script src="~/Content/Libs/jquery-validation/jquery.validate.unobtrusive.js"></script>



}
